%h1 XueTang Project
%div#br
  %ul#navigator.nav.nav-tabs
    - @top_categories.each do |category|
      %li{ :class => (params[:id] == category.id.to_s)?'active':nil }
        =link_to "#{category.name}", category_path(category)
-@top_categories.each do |category|
  %div.span5{:id => category.name}
    %table.table.table-bordered.table-hover
      %thead
        %tr
          %th{:colspan => '4', :style => "text-align: center"}= link_to "#{category.name}", category_path(category)
      %tbody
        %tr
          %th{:rowspan => "#{@subcategories[category].size+1}", :style =>"vertical-align: middle"} subcats
        -@subcategories[category].each do |subcategory|
          %tr
            %th{:colspan => '3'}= link_to "#{subcategory.name}", category_path(subcategory)
        %tr
          %th{:rowspan => "#{category.articles.size+1}", :style =>"vertical-align: middle"} articles
        -category.articles.each do |article|
          %tr
            %th= link_to "#{article.title}", article_path(article)
            %th{:style => "color: gray"}= article.created_at
            %th{:style => "color: gray"}= article.author
